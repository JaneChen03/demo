# kind 和 type 属性定义了一个 Kubernetes管道
kind: pipeline
type: docker
name: default

steps:
- name: 编译分支代码
  image: juanchen03/chenjuan:myubuntu
  pull: always
  commands:
    - ls -la
    - ln -sfn /drone/node_modules node_modules
    - npm run build
    - ls -la
    - pwd
  when:
    branch: main
    event: push
    
trigger:
  branch:
    include:
      - main
  event:
    include:
      - push
